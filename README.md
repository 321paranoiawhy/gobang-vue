# 五子棋 Gobang

本项目为五子棋 `Web` 版前端实现, 使用 [Nuxt3 Starter](https://github.com/nuxt/starter/tree/v3) 模板

[在线试玩](https://321paranoiawhy.github.io/gobang-vue/)

五子棋含禁手规则英文为 `Gomoku`, 无禁手则英文为 `Renju`, 也可称 `Five in a Row`

## 技术栈

- `Vue 3`
- `Nuxt`
- `TypeScript`
- `UnoCSS`
- `Pinia`
- `VueUse`

## 起步

前置依赖:

- `pnpm 8.15.4` (`pnpm -v`)
- `node v20.11.1` (`node -v`)

```bash
# 安装依赖
pnpm i

# 开发, 浏览器内输入 http://localhost:1234/
pnpm dev

# 打包, 打包产物位于根目录 .output 文件夹内
pnpm build
```

## 参考资料

- [Figma 设计图](<https://www.figma.com/design/tA5XBiinQMVjaOWPndbPxB/Gobang---%E4%BA%94%E5%AD%90%E6%A3%8B-(Community)>)
- [gobang - aoey](https://github.com/aooy/gobang)
- [gobang 在线试玩 - aoey](https://aooy.github.io/gobang/)
- [gobang - sky172839465](https://github.com/sky172839465/Gobang)
- [gobang 在线试玩 - sky172839465](<(https://sky172839465.github.io/gobang/)>)
- [五子棋 AI](https://github.com/lihongxun945/gobang)
- [五子棋 AI 在线试玩](http://gobang2.light7.cn/)

## 游戏规则

- [行棋规则](https://587.renju.org.tw/rule/rulehome.htm)

- 经典棋盘大小为 `15 x 15`, 共 `225` 颗棋子, 黑子 `113` 枚, 白子 `112` 枚
- 默认黑方先手, 先手方获胜概率略高于后手方, 且先手方存在必胜开局
- 黑白双方交替落子
- 已落子处不可继续落子
- 落子无悔, 但仍可设定每局游戏双方最大可悔棋次数, 如三次
- 禁手 (在对局中会被判负的行棋手段) 规则:
  - 三三禁手
  - 四四禁手
  - 长连禁手
  - 黑方五连且存在禁手, 禁手失效, 判定黑方胜
  - [禁手 - 百度百科](https://baike.baidu.com/item/%E7%A6%81%E6%89%8B/214940)
- 获胜规则:
  - 棋盘未落满, 当横 / 竖 / `45°` 斜向出现五颗同色棋子, 则执该色棋子方获胜
  - 棋盘已落满, 后手方获胜, 因先手方获胜概率略高于后手方

## 常見術語

- 前一手：次一手可做出某種攻擊的手段。如將此子稱為四三前一手，表示若對方不理，下一手可以做出四三。
- 禁手：黑子禁止下出雙活三、雙四、長連三種棋型，不論主動被動下出，皆判黑敗。而白子無禁手，可自由落子，長連亦判勝。
- 嵌手：逼黑棋下出禁手手法，又稱逼禁，是白棋特有的攻擊方式。
- 詰棋：一種刻意安排的棋局，其含有一些巧妙的獲勝手法，以作為題目，可用來訓練及測試棋力。
- 複盤：對局結束以後重演對局的過程。一般用以研究、比較雙方的成敗得失和著法優劣。
- 打譜：按照棋譜演練著法，來學習譜中的技巧，是提高棋藝水平的重要方法之一。
- 定石：某個開局或某變化，經研究過後得出雙方較佳應對手段，進而成為固定的下法，可稱為定式或定石。定石可以記錄到一方必勝、一方優勢或均勢為止。它是棋局為經驗累積的成果、是一直研究、修正的棋局精華。
- 先手：掌握主動權，攻擊權，主導局勢的一方。
- 後手：被動的一方。
- 問應手：為決定之往後的行棋策略，用來試探對手的走法。
- 衝四勝（追四勝）：簡稱VCF或VC4，連續下出四，直到獲勝。
- 攻擊勝（追詰勝）：簡稱VCT或VC3，利用次一手有VC4的攻擊手法，一直攻到獲勝。
- 外勢、空間：通常指棋盤中間以外，尚未被黑白棋子佔領，並有足夠的範圍可以發展，進而連五的地方。
- 打點：某些開局規則在第五手時，黑子需下出數個點（即稱之為打點），供白方選擇其一做為第五手。
- 打數：打點的數量。
- 五手兩打：國際規則用語，表示第五手時，黑方必須下兩個打點讓白方選擇。
- 一打、二打：指國規或山口規時，第五手的打點，我們稱最好的點為一打，次好的為二打，依序三打四打等。

## 落子位置 (交叉点) 坐标

- 从左至右分别为 `A~O` 列, 共 `15` 列
- 从下至下分别为 `1~15` 行, 共 `15` 行
- 落子位置使用 `<行><列>` 命名, 如位于棋盘正中央的天元即以 `H8` 称之, 其余四星位为 `D4`、`D12`、`L4`、`L12`

## TODO

### 实现基础

`Web` 版提供以下两种实现:

- `canvas` 性能更高, 但需要自行编写相关样式和逻辑
- `dom` 性能较低, 但实现简单
- 基于 `canvas` 的游戏引擎

### `UI` 相关

- 暗黑模式, 切换动画
- 背景音乐
- 落子动画及音效
- 错误落子 (如在已落子处落子) 震动和 `toast` 提示
- 媒体查询自适应尺寸

### 简易教程

### 功能相关

- 左右互搏 (单人模式)
- 人机对战
- 在线对战 (后台服务 `ping` 成功后方可开始, 否则提示服务不可用)
- `AI` 教学 `VIP Only`
- `AI` 对战 `VIP Only`
- 计分规则、计分排行榜
- 对局自动保存记录, 支持导出、分享对局信息、回放
- 支持嵌入至其他网站
- 游戏辅助线提示 (连三等) `VIP Only`
